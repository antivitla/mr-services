Топик vs index, в какое поле записывать дерево, путь к заметке. Вложенные что? В одном случае это темы, в другом разделы книги, в третьем... что? Клиенты? Как это соотносится с группировками по темам, датам, сессиям? сессии это группировка по дате, особая. Группировка по темам тоже может быть? Или это отдельный вид - дерево? Группировка по тегам ещё может быть.

А когда будут записи таймера - как в нём хранить принадлежность к проекту, клиенту?

Или у таймера есть tree как и всех - для дерева. Плюс чисто таймеровые - project, client. Но тогда и у заметок есть проект, клиент. Как быть? А если воспоминания по людям, местам? С другой стороны, почему не дать возможность добавлять свои поля к заметкам, записям таймера? И затем автоматом группировать по этим полям? Только вот где их хранить? Кастомные поля. Да можно и не хранить, запоминать. Просто опцию задавать - вручную, скажем. Тогда есть два вида - индекс разных значений полей и вид всех заметок под данным значением поля.

```
Маша Нигголь
Александр Орёл
Андрей Альмяшев
```

и

```
(заметки по Маше Нигголь, как-то сгруппированные и упорядоченные дополнительно)
```

В принципе поле структуры может быть в любом случае массивом. Тогда выводится в индексе только первый элемент, если нужны только корневые значения всегда. Тогда могут быть пересекающиеся группировки. Если мозг не сломается. Но а как быть с группировками по датам? А так же как с перекрёстными группировками - считать их отдельным классом. Автоматическим. Действительно ли это так?

А как создавать связь данной заметки с какой-то другой темой, одновременно? Три связи? И обрабатывать циклические ссылки при этом? Жопа же. Ок, есть способы http://stackoverflow.com/questions/14962018/detecting-and-fixing-circular-references-in-javascript.

Но ссылаться на тему - ок. А как ссылаться на заметку? Или ссыланием на заметку мы создаём тему некую? Или же нет? Если тему, то как её автоматом создать - сделать тему в заметке? В принципе да. И проставить такую же в новой заметке. Ну тогда это как теги получаются. Теги, каждый из которых может быть массивом - олицетворяющей путь вложенности? А как же кастомные поля? В чём разница проставить кастомное поле "эззотерика" со значением "просветление" или... просто задать тему "просветление", что короче. Или может сделать именно путь для всех "эззотерика / просветление".

```
# [Mr. Services]
## [Заметка]
### []
```

Создаваемые заново и обновляемые структуры (тогда не храним в заметках, но вербозные громоздкие структуры) vs храним всё в заметках, тогда структуры на лету, но пухлые заметки.

<!-- {"date":"2016-12-05T20:11:22.557Z","id":"6959d970-2deb-11e7-a02f-b3275fd3a74c","excerpt":"Топик vs index, в какое поле записывать дерево, путь к..."} -->